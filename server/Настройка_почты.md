# Настройка почты: заявки с формы на ваш Gmail

На сайте после отправки формы показывается сообщение «Дякуємо за реєстрацію!» / «Спасибо за регистрацию!» — это значит, что заявка принята сервером. Но **письмо на почту придёт только если** вы один раз настроите отправку по инструкции ниже.

Когда настройка будет сделана, на **svetlichnyioleksiy@gmail.com** станет приходить письмо с данными каждой заявки (email и название центра). Сделать нужно следующее.

---

## Что такое «пароль приложений» и зачем он нужен

- Это **не** обычный пароль от Gmail.
- Google даёт отдельный пароль для программ (сайта), чтобы они могли отправлять письма от вашего имени. Без него отправка с сервера не работает.
- Создаётся в настройках вашего **аккаунта Google** (тот, с которого будут отправляться письма — можно тот же svetlichnyioleksiy@gmail.com).

---

## Шаг 1. Включить двухэтапную аутентификацию (если ещё не включена)

1. Откройте в браузере: https://myaccount.google.com/security  
2. Войдите в аккаунт **svetlichnyioleksiy@gmail.com** (или тот, с которого хотите отправлять).
3. Найдите блок **«Двухэтапная аутентификация»** и включите её, если она выключена. Без неё пароль приложений создать нельзя.

---

## Шаг 2. Создать пароль приложений

1. Откройте: https://myaccount.google.com/apppasswords  
   (Если ссылка не открывается — зайдите в https://myaccount.google.com → Безопасность → Пароли приложений.)
2. В поле «Название приложения» выберите, например, **«Почта»** или **«Другое»** и введите, например, **Neuro Educatimo**.
3. Нажмите **«Создать»**.
4. Google покажет пароль из 16 символов (вид: `xxxx xxxx xxxx xxxx`). **Скопируйте его** и сохраните — второй раз его не покажут.

---

## Шаг 3. Прописать данные в проекте

1. Откройте папку **server** вашего проекта (там, где лежит **index.js**).
2. Найдите файл **`.env.example`**. Скопируйте его в той же папке и назовите копию **`.env`** (точка в начале обязательна).
3. Откройте **`.env`** в редакторе (Блокнот, Cursor, VS Code).
4. Замените строку с паролем: вместо `xxxx-xxxx-xxxx-xxxx` вставьте **пароль приложений** из шага 2.  
   И при необходимости замените `your-gmail@gmail.com` на **svetlichnyioleksiy@gmail.com** (или оставьте, если в примере уже ваш ящик).

Должно получиться примерно так:

```env
RECIPIENT_EMAIL=svetlichnyioleksiy@gmail.com
GMAIL_USER=svetlichnyioleksiy@gmail.com
GMAIL_APP_PASSWORD=сюда_вставьте_16_символов_из_Google
```

5. Сохраните файл **`.env`**.

**Важно:** в файле не должно быть пробелов вокруг `=`. Пишите строго:
`GMAIL_APP_PASSWORD=пароль`
а не `GMAIL_APP_PASSWORD = пароль`. Имена переменных — именно **GMAIL_USER** и **GMAIL_APP_PASSWORD** (латиницей, без опечаток). Файл должен называться именно `.env` (с точкой в начале), лежать в папке **server**.

---

## Шаг 4. Перезапустить сервер

Чтобы настройки из `.env` подхватились, сервер нужно перезапустить.

- **Локально (у себя на компьютере):**  
  Остановите программу, которая запускает сайт (в терминале — **Ctrl+C**), затем снова запустите, например:  
  `node server/index.js`  
  (из корня проекта: `cd путь-к-проекту && node server/index.js`.)

- **На продакшене (хостинг):**  
  Перезапустите приложение так, как вы обычно это делаете (панель хостинга, PM2: `pm2 restart all`, или как у вас настроено).

---

## Проверка

После перезапуска снова отправьте заявку с сайта. В течение минуты должно прийти письмо на **svetlichnyioleksiy@gmail.com** с темой вроде «Neuro Educatimo: новая заявка в лист ожидания» и данными из формы.

Если письмо не пришло — проверьте папку «Спам» и что в `.env` точно указан правильный пароль приложений (без лишних пробелов в начале/конце строки).
