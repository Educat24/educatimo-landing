<!DOCTYPE html>
<html lang="uk" class="quiz-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Квіз: Чи готовий ваш центр до доказового навчання? — Neuro Educatimo</title>
    <meta name="description" content="Пройдіть короткий квіз і дізнайтесь, наскільки ваш центр готовий перейти до доказового підходу в навчанні.">
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body class="quiz-page">

<header class="quiz-header">
    <div class="quiz-header-inner">
        <a href="/uk/" class="quiz-logo">Neuro Educatimo</a>
    </div>
</header>

<!-- Screen 0: Intro (Hero) -->
<div class="quiz-hero quiz-screen active" id="screen-intro">
    <div class="quiz-hero-inner">
        <div class="quiz-card">
            <div class="quiz-intro-title">Перевірте свій центр за 6 запитань</div>
            <p class="quiz-intro-desc">Дізнайтесь, де ваш центр зараз втрачає клієнтів і гроші, та отримайте персональний план дій — безкоштовно.</p>
            <div class="quiz-meta">
                <div class="quiz-meta-item"><i class="fas fa-clock"></i> 2 хвилини</div>
                <div class="quiz-meta-item"><i class="fas fa-list-ul"></i> 6 запитань</div>
                <div class="quiz-meta-item"><i class="fas fa-gift"></i> Безкоштовно</div>
            </div>
            <button class="btn" onclick="quizStart()">Розпочати →</button>
        </div>
    </div>
</div>

<!-- Screens 1–6: Questions -->
<div class="quiz-board-bg quiz-screen" id="screen-questions">
    <div class="quiz-card">
        <div class="quiz-progress-bar-wrap">
            <div class="quiz-progress-bar" id="quiz-progress-bar" style="width: 0%"></div>
        </div>
        <div class="quiz-step-label" id="quiz-step-label">Запитання 1 з 6</div>
        <div class="quiz-question" id="quiz-question-text"></div>
        <div class="quiz-options" id="quiz-options"></div>
    </div>
</div>

<!-- Screen Final: Form -->
<div class="quiz-board-bg quiz-screen" id="screen-result">
    <div class="quiz-card">
        <div id="quiz-form-section">
        <div class="quiz-result-title">Майже готово!</div>
        <p class="quiz-result-desc">Залиште контакти — і ми надішлемо персоналізований розбір з першими кроками для вашого центру.</p>
        <div class="quiz-form-wrap" id="quiz-form-wrap">
            <form id="quiz-form" action="/api/register" method="POST">
                <input type="hidden" name="source" value="quiz">
                <input type="hidden" name="lang" value="uk">
                <input type="hidden" name="quiz_answers" id="quiz-answers-input">

                <label for="qf-org">Назва організації</label>
                <input type="text" id="qf-org" name="org_name" placeholder="Центр розвитку «Сонечко»" required>

                <label for="qf-email">Email</label>
                <input type="email" id="qf-email" name="email" placeholder="email@example.com" required>

                <label for="qf-phone">Телефон</label>
                <input type="tel" id="qf-phone" name="phone" placeholder="+380 XX XXX XX XX" required>

                <label for="qf-type">Тип закладу</label>
                <select id="qf-type" name="org_type" required>
                    <option value="" disabled selected>— Оберіть тип —</option>
                    <option value="center">Навчальний центр</option>
                    <option value="school">Школа або гімназія</option>
                    <option value="neuro">Нейропсихологічний центр</option>
                    <option value="other">Інше</option>
                </select>

                <label for="qf-students">Кількість учнів</label>
                <select id="qf-students" name="students_count" required>
                    <option value="" disabled selected>— Оберіть кількість —</option>
                    <option value="lt50">До 50 учнів</option>
                    <option value="50to200">50–200 учнів</option>
                    <option value="gt200">Більше 200 учнів</option>
                </select>

                <button type="submit" class="btn" id="quiz-submit-btn">Отримати результати →</button>
                <div id="quiz-form-message"></div>
            </form>
        </div>
        </div><!-- #quiz-form-section -->
        <div class="quiz-success-block" id="quiz-success-block" style="display:none;">
            <div class="quiz-success-icon-large">✅</div>
            <h2 class="quiz-success-title">Дякуємо!</h2>
            <p class="quiz-success-subtitle">Ваша заявка прийнята.</p>
            <div class="quiz-success-body-box">
                <p>Протягом кількох годин на <strong id="success-email"></strong> надійде персоналізований звіт з результатами квізу.</p>
            </div>
            <p class="quiz-success-sign">З повагою, Команда Neuro.Educatimo</p>
        </div>
    </div>
</div>

<script>
var QUESTIONS = [
    {
        q: "Як ви зараз відстежуєте прогрес учнів?",
        opts: [
            "Тільки словесна оцінка педагога",
            "Домашні завдання та тести",
            "Стандартизовані тести раз на рік",
            "Регулярна цифрова діагностика"
        ]
    },
    {
        q: "Як часто батьки скаржаться, що «не бачать результату»?",
        opts: [
            "Дуже часто — це головна причина відходу",
            "Час від часу, особливо через 2–3 місяці",
            "Рідко, але буває",
            "Майже ніколи — ми вміємо показувати прогрес"
        ]
    },
    {
        q: "Чи є у вас стандартизована діагностика при вступі дитини?",
        opts: [
            "Ні, педагог оцінює сам",
            "Є кілька запитань/тестів, але неформальних",
            "Так, але різні педагоги роблять по-різному",
            "Так, єдиний стандарт для всіх"
        ]
    },
    {
        q: "Скільки часу займає підготовка звіту для батьків?",
        opts: [
            "Понад годину — це великий біль",
            "30–60 хвилин",
            "10–30 хвилин",
            "До 10 хвилин — все автоматизовано"
        ]
    },
    {
        q: "Чи пропонуєте ви батькам допродажі на основі даних про дитину?",
        opts: [
            "Ні, не знаємо що пропонувати",
            "Іноді, але інтуїтивно",
            "Пробували, але без системи",
            "Так, є чіткий процес на основі діагностики"
        ]
    },
    {
        q: "Як швидко ваш центр може масштабуватись на нові філії?",
        opts: [
            "Важко — якість залежить від конкретних людей",
            "Повільно — потрібно навчати кожного педагога",
            "Середньо — є інструкції, але є складнощі",
            "Легко — у нас стандартизований процес"
        ]
    }
];

var answers = {};
var currentQ = 0;

function quizStart() {
    showScreen('screen-questions');
    renderQuestion(0);
}

function showScreen(id) {
    document.querySelectorAll('.quiz-screen').forEach(function(s) { s.classList.remove('active'); });
    var el = document.getElementById(id);
    if (el) el.classList.add('active');
}

function renderQuestion(idx) {
    currentQ = idx;
    var total = QUESTIONS.length;
    var pct = Math.round((idx / total) * 100);
    document.getElementById('quiz-progress-bar').style.width = pct + '%';
    document.getElementById('quiz-step-label').innerText = 'Запитання ' + (idx + 1) + ' з ' + total;
    document.getElementById('quiz-question-text').innerText = QUESTIONS[idx].q;

    var opts = QUESTIONS[idx].opts;
    var container = document.getElementById('quiz-options');
    container.innerHTML = '';
    opts.forEach(function(opt, i) {
        var btn = document.createElement('button');
        btn.className = 'quiz-option';
        btn.innerText = opt;
        btn.onclick = function() { selectAnswer(idx, i, opt, btn); };
        container.appendChild(btn);
    });
}

function selectAnswer(qIdx, optIdx, optText, btn) {
    document.querySelectorAll('.quiz-option').forEach(function(b) { b.classList.remove('selected'); });
    btn.classList.add('selected');
    answers['q' + (qIdx + 1)] = optText;

    setTimeout(function() {
        if (qIdx + 1 < QUESTIONS.length) {
            renderQuestion(qIdx + 1);
        } else {
            document.getElementById('quiz-progress-bar').style.width = '100%';
            document.getElementById('quiz-answers-input').value = JSON.stringify(answers);
            showScreen('screen-result');
        }
    }, 350);
}

document.getElementById('quiz-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    var btn = document.getElementById('quiz-submit-btn');
    var msg = document.getElementById('quiz-form-message');
    btn.disabled = true;
    btn.innerText = 'Відправляємо...';
    msg.innerText = '';

    document.getElementById('quiz-answers-input').value = JSON.stringify(answers);
    var submittedEmail = document.getElementById('qf-email').value;

    try {
        var formData = new FormData(this);
        var resp = await fetch('/api/register', {
            method: 'POST',
            body: formData,
            headers: { 'Accept': 'application/json' }
        });
            if (resp.ok) {
            if (typeof fbq === 'function') fbq('track', 'Lead');
            document.getElementById('quiz-form-section').style.display = 'none';
            document.getElementById('quiz-success-block').style.display = 'block';
            document.getElementById('success-email').innerText = submittedEmail;
            setTimeout(function() { window.location.href = '/uk/'; }, 4000);
        } else {
            throw new Error('error');
        }
    } catch(err) {
        msg.innerText = 'Виникла помилка. Спробуйте ще раз.';
        msg.style.color = 'red';
        btn.disabled = false;
        btn.innerText = 'Отримати результати →';
    }
});
</script>

</body>
</html>
